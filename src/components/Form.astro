---
---

<form class="flex flex-col gap-2.5" id="contact-form">
  <div class="flex gap-2.5 flex-wrap">
    <input class="bg-[var(--color-primary-light)] text-[var(--color-dark]) border-none px-5 py-2.5 flex-1 rounded-sm inset-shadow-[4px_4px_8px_var(--shadow-darker)] text-sm outline-[var(--color-primary)]" type="text" placeholder="Nombre Completo o Empresa" name="nombre"/>
    <input class="bg-[var(--color-primary-light)] text-[var(--color-dark]) border-none px-5 py-2.5 flex-1 rounded-sm inset-shadow-[4px_4px_8px_var(--shadow-darker)] text-sm outline-[var(--color-primary)]" type="email" placeholder="Correo Electrónico" name="correo"/>
    <input class="bg-[var(--color-primary-light)] text-[var(--color-dark]) border-none px-5 py-2.5 flex-1 rounded-sm inset-shadow-[4px_4px_8px_var(--shadow-darker)] text-sm outline-[var(--color-primary)]" type="tel" placeholder="Telefono de Contacto" name="telefono"/>
  </div>
  <textarea class="bg-[var(--color-primary-light)] text-[var(--color-dark]) border-none px-5 py-2.5 rounded-sm resize-y min-h-36 max-h-96 inset-shadow-[4px_4px_8px_var(--shadow-darker)] text-sm outline-[var(--color-primary)]" placeholder="Mensaje" name="mensaje"></textarea>
  <p class="text-sm flex gap-1">
    <span class="flex items-center flex-0 h-fit mt-0.5">
      <img class="w-3.5" src="/ico/info-empty.svg" alt="Important information icon"/>
    </span>
    La información proporcionada se utilizará únicamente para fines de contacto
    y no será compartida con terceros sin su consentimiento.
  </p>
  <button type="submit" class="bg-[var(--color-primary)] disabled:bg-[var(--color-primary-light)] text-[var(--color-light)] mr-auto px-5 py-2.5 rounded-sm shadow-[4px_4px_8px_var(--shadow-darker)]">Enviar</button>
</form>

<script>
  import emailjs from '@emailjs/browser';
  emailjs.init('Z0tsUzdovu4bfIfB4');

  document.querySelectorAll('#contact-form').forEach((form) => {
    const typedForm = form as HTMLFormElement;
    const submitButton = typedForm.querySelector('button[type="submit"]') as HTMLButtonElement;

    typedForm.addEventListener('submit', async (event) => {
      event.preventDefault();

      submitButton.disabled = true;

      try {
        await emailjs.sendForm('service_kzkcira', 'template_n49p46o', typedForm);
        await emailjs.sendForm('service_kzkcira', 'template_0ctitub', typedForm);
        location.reload();
      } catch(error) {
        console.log('FAILED...', error);
      } finally {
        submitButton.disabled = false;
      }
    });
  });
</script>
